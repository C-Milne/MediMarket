<div class="jumbotron bg-dark mx-3">
  <h1 class="display-3 text-ps" style="text-align: center;">Welcome to MediMarket</h1>
</div>

<div class="container-fluid">
  <div class="d-flex justify-content-center">
    <h2 style="text-align:center">Search Products</h2>
  </div>
  <div class="d-flex justify-content-center">
    <%= form_tag(products_path, method: :get) do %>
      <%= text_field_tag :term, params[:term] %>
      <%= submit_tag 'Search', class: "btn btn-primary" %>
    <% end %>
  </div>
</div>

<hr class="featurette-divider">

<div class='container-fluid mx-3'>
  <h2 class="display-5" style="text-align: center;">Recently Added Products</h2>

  <div class="scrolling-wrapper scrollbar-morpheus-den d-flex">
    <% @recentProducts.each do |product| %>
      <a style="color:black; text-decoration: none; background-color: none;" href= <%= "/products/#{product.id}" %>>
        <div class="card mx-2 my-2" style="width: 18rem; height: 20rem;">
          <div class="card-body">
            <h5 class="card-title" style="white-space: initial;"><%= truncate(product.substancename, :length => 30) %></h5>
            <h6 class="card-subtitle mb-2 text-muted" style="white-space: initial;">Â£<%= product.price %></h6>
            <ul class="list-group list-group-flush" style="width: auto;">
              <li class="list-group-item" style="white-space: initial;">Non-proprietary name: <%=  truncate(product.nonproprietaryname, :length => 100) %></li>
              <li class="list-group-item" style="white-space: initial;">Proprietary name: <%= truncate(product.propname, :length=> 100) %></li>
            </ul>
          </div>
        </div>
      </a>
    <% end %>

  </div>

</div>